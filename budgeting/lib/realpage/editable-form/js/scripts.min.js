!function(a){"use strict";function b(a){var b=1;return function(c){b++,!c||!c.formID;var d={events:a(),formID:c.formID||"editable"+b,inEditMode:void 0!==c.inEditMode&&c.inEditMode};return d.publish=function(a){d.events.publish(a)},d.subscribe=function(a){return d.events.subscribe(a)},d}}a.module("rpEditableForm").factory("rpEditableFormModel",["eventStream",b])}(angular),function(a){"use strict";function b(){var a={store:{}};return a.register=function(b,c){a.store[b]||(a.store[b]=c)},a.get=function(b){if(a.store[b])return a.store[b]},a.remove=function(b){delete a.store[b]},a}a.module("rpEditableForm").factory("rpEditableFormSvc",[b])}(angular),function(a){"use strict";function b(a){function b(b,c,d){var e={},f=b.$eval(d.rpEditableForm);e.init=function(){f&&(c.addClass("read"),b.rpEditableForm=e,a.register(f.formID,e),b.$on("$destroy",e.destroy),f.inEditMode&&e.edit())},e.edit=function(){c.addClass("edit").removeClass("read"),f.publish(!0)},e.exit=function(){c.removeClass("edit").addClass("read"),f.publish(!1)},e.destroy=function(){a.remove(f.formID)},e.init()}return{link:b,restrict:"A"}}a.module("rpEditableForm").directive("rpEditableForm",["rpEditableFormSvc",b])}(angular),function(a){"use strict";function b(a){function b(b,c,d){var e={},f=b.$eval(d.rpEditableFormExit);e.init=function(){f&&c.on("click",e.onClick)},e.onClick=function(){b.$apply(function(){a.get(f).exit()})},e.init()}return{link:b,restrict:"A"}}a.module("rpEditableForm").directive("rpEditableFormExit",["rpEditableFormSvc",b])}(angular),function(a){"use strict";function b(a){function b(b,c,d){var e={},f=b.$eval(d.rpEditableFormEdit);e.init=function(){f&&c.on("click",e.onClick)},e.onClick=function(){b.$apply(function(){a.get(f).edit()})},e.init()}return{link:b,restrict:"A"}}a.module("rpEditableForm").directive("rpEditableFormEdit",["rpEditableFormSvc",b])}(angular);