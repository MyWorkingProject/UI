angular.module("rpFloatScroll",[]),function(a){"use strict";function b(b,c){function d(d,e,f){var g={};g.init=function(){d.floatScroll=g,c.subscribe(g.setSize),g.append().setupBar().setVis(),d.$on("$destroy",g.destroy),g.scrollWatch=b.subscribe(g.setVis)},g.append=function(){var b="<div class='rp-float-scrollbar'><div /></div>";return g.bar=a.element(b),g.barCon=g.bar.children(),e.append(g.bar),g},g.setupBar=function(){return e.css("position","relative"),g.bar.on("scroll",g.onScroll),g.setSize(),g},g.show=function(){return g.bar.show(),g},g.hide=function(){return g.bar.hide(),g},g.onScroll=function(){var a=g.bar.scrollLeft();e.scrollLeft(a)},g.setVis=function(){var a=e.scrollLeft(),d=e.offset().top,f=e.outerHeight(),h=c.getSize().height,i=b.getScrollTop(),j=i+h<d+f;return g[j?"show":"hide"]().bar.scrollLeft(j?a:0),g},g.setSize=function(){var a={left:e.offset().left,width:e.outerWidth()};g.bar.css(a),g.barCon.width(e.get(0).scrollWidth),g.setVis()},g.destroy=function(){g.scrollWatch()},g.init()}return{link:d,restrict:"C"}}a.module("rpFloatScroll").directive("rpFloatScroll",["windowScroll","windowSize",b])}(angular);