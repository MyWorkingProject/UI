angular.module("rpScrollingTabsMenu",[]),angular.module("rpScrollingTabsMenu").run(["$templateCache",function(a){a.put("realpage/scrolling-tabs-menu/templates/scrolling-tabs-menu.html",'<div class="rp-scrolling-tabs-wrap"><div class="rp-scrolling-tabs-menu"><span ng-show="$ctrl.scrollEnabled()" ng-click="scrollScreen.scrollLeft()" ng-class="{disabled: !$ctrl.canScrollLeft()}" class="scroll-left rp-icon-angle-right text-neutral-05"></span> <span ng-show="$ctrl.scrollEnabled()" ng-click="scrollScreen.scrollRight()" ng-class="{disabled: !$ctrl.canScrollRight()}" class="scroll-right rp-icon-angle-left text-neutral-05"></span><div class="rp-scrolling-tabs-screen" rp-scrolling-tabs-screen="$ctrl.scrollScreenModel"><ul class="rp-scrolling-tabs-slider" rp-scrolling-tabs-slider="$ctrl.scrollScreenModel"><li class="rp-scrolling-tab" ng-repeat="tab in $ctrl.model.data" rp-scrolling-tab="$ctrl.scrollScreenModel"><a ng-if="tab.href" href="{{tab.href}}" class="rp-scrolling-tab-link" ng-click="$ctrl.activateTab(tab)" ng-class="{active: tab.isActive}">{{tab.text}}</a> <span ng-if="!tab.href" ng-click="$ctrl.activateTab(tab)" ng-class="{active: tab.isActive}" class="rp-scrolling-tab-link rp-scrolling-tab-text">{{tab.text}}</span></li></ul></div></div></div>')}]),function(a){"use strict";function b(a,b){var c,d=this,e=b();d.$onInit=function(){c=d.model.getEvents(),e.setEvents(c),d.scrollScreenModel=e,d.winWatch=a.subscribe(d.reset)},d.activateTab=function(a){d.model.activate(a)},d.scrollEnabled=function(){return e.scrollEnabled()},d.canScrollLeft=function(){return e.canScrollLeft()},d.canScrollRight=function(){return e.canScrollRight()},d.reset=function(){e.flushStops().resetSliderWidth()},d.$onDestroy=function(){d.winWatch(),e=void 0}}var c={bindings:{model:"="},controller:["windowSize","rpScrollScreenModel",b],templateUrl:"realpage/scrolling-tabs-menu/templates/scrolling-tabs-menu.html"};a.module("rpScrollingTabsMenu").component("rpScrollingTabsMenu",c)}(angular),function(a){"use strict";function b(a){return function(){var b={},c=a(),d=["change","beforeScroll","afterScroll"];return b.events=c.setEvents(d),b.getEvents=function(){return b.events},b.subscribe=function(){return c.subscribe.apply(c,arguments)},b.setData=function(a){return b.data=a,b},b.activate=function(a){return a.isActive||(b.data.forEach(function(b){b.isActive=b.id==a.id}),b.events.publish("change",a)),b},b.destroy=function(){c.destroy(),b=void 0,c=void 0,d=void 0},b}}a.module("rpScrollingTabsMenu").factory("rpScrollingTabsMenuModel",["eventsManager",b])}(angular),function(a){"use strict";function b(){return function(){var a={stops:[0],stopIndex:0,screenWidth:0,sliderWidth:0,allowScrollLeft:!0,allowScrollRight:!1};return a.setEvents=function(b){return a.events=b,a},a.publish=function(b,c){return a.events.publish(b,c),a},a.subscribe=function(b,c){return a.events.subscribe(b,c)},a.setScreenWidth=function(b){return a.stops.push(-b),a.screenWidth=b,a},a.setScrollWidth=function(b){return a.scrollWidth=b,a},a.getSliderWidth=function(){return a.sliderWidth},a.canScrollLeft=function(){return a.allowScrollLeft},a.canScrollRight=function(){return a.allowScrollRight},a.addStop=function(b){var c=a.stops[a.stops.length-1];a.sliderWidth+=b,a.stops[1]<60?a.stops[1]+=b:a.stops.push(c+b)},a.flushStops=function(){return a.stops=[0],a},a.resetSliderWidth=function(){return a.sliderWidth=0,a},a.resetScroll=function(){return a.stopIndex=0,a.allowScrollLeft=!0,a.allowScrollRight=!1,a},a.scrollEnabled=function(){return a.sliderWidth>a.screenWidth},a.scrollLeft=function(){return a.stopIndex++,a.updateScrollCtrls(),a.stops[a.stopIndex]},a.scrollRight=function(){return a.stopIndex--,a.updateScrollCtrls(),a.stops[a.stopIndex]},a.updateScrollCtrls=function(){var b=a.stops[a.stopIndex],c=a.stops[a.stops.length-1];a.allowScrollRight=0!==b,a.allowScrollLeft=b!=c},a.updateStopIndex=function(b){a.stops.forEach(function(c,d){b>=c&&(a.stopIndex=d)}),a.updateScrollCtrls()},a}}a.module("rpScrollingTabsMenu").factory("rpScrollScreenModel",[b])}(angular),function(a){"use strict";function b(a,b,c){function d(d,e,f){var g={},h=d.$eval(f.rpScrollingTab);g.init=function(){g.recordStop(),g.winWatch=b.subscribe(g.recordStop),g.destWatch=d.$on("$destroy",g.destroy)},g.recordStop=function(){a.cancel(g.timer),g.timer=a(g.addStop,100)},g.addStop=function(){h.addStop(c(e).outerWidth(!0))},g.destroy=function(){g.winWatch(),g.destWatch(),h=void 0},g.init()}return{link:d,restrict:"A"}}a.module("rpScrollingTabsMenu").directive("rpScrollingTab",["$timeout","windowSize","rpComputedStyle",b])}(angular),function(a){"use strict";function b(a,b){function c(c,d,e){var f={},g=c.$eval(e.rpScrollingTabsScreen);f.init=function(){f.recordWidth(),c.scrollScreen=f,f.winWatch=b.subscribe(f.recordWidth),f.destWatch=c.$on("$destroy",f.destroy)},f.recordWidth=function(){a.cancel(f.timer),f.timer=a(f.setWidth,100)},f.setWidth=function(){f.scrollTo(0,0),g.resetScroll().setScreenWidth(d.width())},f.scrollLeft=function(){g.publish("beforeScroll"),f.scrollTo(g.scrollLeft()),g.publish("afterScroll")},f.scrollRight=function(){g.publish("beforeScroll"),f.scrollTo(g.scrollRight()),g.publish("afterScroll")},f.scrollTo=function(b,c){f.unbindScroll(),c=void 0===c?200:c,0===c?d.prop("scrollLeft",b):d.animate({scrollLeft:b},c),a(f.bindScroll,c+100)},f.bindScroll=function(){d.on("scroll.scrollingTabs",f.onScroll)},f.unbindScroll=function(){d.off("scroll.scrollingTabs")},f.onScroll=function(b){a.cancel(f.scrollTimer),f.scrollTimer=a(f.updateStopIndex,50)},f.updateStopIndex=function(){g.publish("beforeScroll");var a=d.get(0).scrollLeft;g.updateStopIndex(a),g.publish("afterScroll")},f.destroy=function(){f.winWatch(),f.destWatch(),f=void 0,g=void 0},f.init()}return{link:c,restrict:"A"}}a.module("rpScrollingTabsMenu").directive("rpScrollingTabsScreen",["$timeout","windowSize",b])}(angular),function(a){"use strict";function b(a,b){function c(c,d,e){var f={},g=c.$eval(e.rpScrollingTabsSlider);f.init=function(){f.recordWidth(),f.winWatch=b.subscribe(f.recordWidth),f.destWatch=c.$on("$destroy",f.destroy)},f.recordWidth=function(){a.cancel(f.timer),f.timer=a(f.setWidth,500)},f.setWidth=function(){d.width(g.getSliderWidth())},f.destroy=function(){f.winWatch(),f.destWatch(),f=void 0,g=void 0},f.init()}return{link:c,restrict:"A"}}a.module("rpScrollingTabsMenu").directive("rpScrollingTabsSlider",["$timeout","windowSize",b])}(angular);