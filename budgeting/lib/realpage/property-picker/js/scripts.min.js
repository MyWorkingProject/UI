angular.module("rpPropertyPicker",[]),angular.module("rpPropertyPicker").run(["$templateCache",function(a){a.put("realpage/property-picker/templates/property-context.html",'<div class="rp-property-context" ng-click="context.togglePicker()"><i class="icon" ng-class="context.model.iconState"></i><div class="property-name" title="{{context.model.property.name}}">{{context.model.property.name}}</div><div class="property-address" title="{{context.model.property.address}}">{{context.model.property.address}}</div></div>'),a.put("realpage/property-picker/templates/property-picker.html",'<div ng-class="picker.state" class="rp-property-picker"><span class="divider-h fw"></span> <span class="icon-close rp-icon-delete-2" ng-click="picker.close()"></span><ul class="nav nav-md ng-hide"><li class="nav-item inline"><a class="nav-link active" href="" data-toggle="tab" data-target="#tab_0"><span class="text-md">RealPage Icons</span> <small class="block text-muted hidden-xs">Custom Icons by RealPage</small></a></li><li class="nav-item inline"><a class="nav-link" href="" data-toggle="tab" data-target="#tab_1"><span class="text-md">Font Awesome</span> <small class="block text-muted hidden-xs">Awesome font icons</small></a></li><li class="nav-item inline"><a class="nav-link" href="" data-toggle="tab" data-target="#tab_2"><span class="text-md">Material <span class="hidden-xs">Design</span></span> <small class="block text-muted hidden-xs">Google material design icons</small></a></li></ul><div class="slider-wrap" ng-class="picker.propertyInfo.state"><div class="slider"><div class="select-property"><h2 class="ft-medium ft-s-18 ft-track-20">Select a Property</h2><div class="property-list-wrap" ng-controller="RpPropertyListCtrl as propertyList"><div class="filters row"><div class="col-md-6"><input class="form-control" placeholder="Property name" ng-model="propertyList.model.filter.name"></div><div class="col-md-3"><select class="form-control c-select" ng-model="propertyList.model.filter.state" ng-options="option.value as option.name for option in propertyList.model.states.options"></select></div><div class="col-md-3"><select class="form-control c-select" ng-model="propertyList.model.filter.country" ng-options="option.value as option.name for option in propertyList.model.countries.options"></select></div></div><div class="list-group property-list"><a href="" class="list-group-item property" ng-click="propertyList.selectProperty(property)" ng-repeat="property in propertyList.model.list | filter: propertyList.model.filter"><span rp-kill-event="click" class="pull-right text-primary icon-info" ng-click="propertyList.showPropInfo(property)"><i class="rp-icon-info-circle"></i></span><div class="block _500">{{property.name}}</div><div class="text-muted">{{property.address}}</div></a></div></div></div><div class="property-info" ng-controller="RpPropertyInfoCtrl as propertyInfo"><p class="back-to-property-list" ng-click="propertyInfo.hide()"><i class="icon rp-icon-angle-left"></i> Property List</p><h3 class="ft-medium ft-s-16 ft-track-5">{{propertyInfo.model.property.name}}</h3><p class="ar-date" ng-if="propertyInfo.model.arDate"><span class="ar-date-label">A/R Date</span> <span class="ar-date-value">{{propertyInfo.model.arDate}}</span></p><h4 class="centers-title">Active Centers</h4><ul class="centers-list"><li ng-repeat="center in propertyInfo.model.centers">{{center.name}}</li></ul></div></div></div><div class="property-groups" ng-controller="RpPropertyGroupsCtrl as pgs"><h2 class="ft-medium ft-s-18 ft-track-20">Property Groups</h2><ul class="property-groups-list"><li ng-click="pgs.selectGroup(group)" class="property-group text-primary" ng-repeat="group in pgs.model.groupsList">{{group.name}}</li></ul></div><span class="divider-h fw"></span></div>')}]),function(a){"use strict";function b(a){var b,c,d;return c={siteID:1e3,recordActivity:1},b="/api/core/common/changeproperty/:siteID/:recordActivity",d={switchTo:{method:"POST",params:{siteID:"@siteID",recordActivity:"@recordActivity"}}},a(b,c,d)}a.module("rpPropertyPicker").factory("rpPropertyContext",["$resource",b])}(angular),function(a){"use strict";function b(){return function(){var a;return a={keys:[],options:[],nameKey:"name",valueKey:"value"},a.defaultOption={name:"All",value:""},a.setNameKey=function(b){return a.nameKey=b,a},a.setValueKey=function(b){return a.valueKey=b,a},a.setDefault=function(b){var c=a.nameKey&&a.valueKey&&b[a.nameKey]&&b[a.valueKey];return c&&(a.defaultOption={name:b[a.nameKey],value:b[a.valueKey]}),a},a.reset=function(){return a.keys=[],a.options=[a.defaultOption],a},a.addOption=function(b){return a.keys.indexOf(b[a.nameKey])==-1&&(a.options.push(b),a.keys.push(b[a.nameKey])),a},a.setOptions=function(b){b.forEach(a.addOption)},a}}a.module("rpPropertyPicker").factory("rpPickerFilterModel",[b])}(angular),function(a){"use strict";function b(a,b){var c={};return c.change=b(),c.data={open:!1,inactive:"True"===a.read("crossover")},c.get=function(){return c.data},c.toggle=function(){"True"!==a.read("crossover")&&(c.data.open=!c.data.open,c.publish())},c.close=function(){c.data.open=!1,c.publish()},c.publish=function(){c.change.publish(c.data.open)},c.subscribe=function(a){c.change.subscribe(a)},c}a.module("rpPropertyPicker").factory("rpPropertyPickerState",["rpCookie","eventStream",b])}(angular),function(a){"use strict";function b(a,b){var c=this;c.init=function(){c.model=a},c.selectGroup=function(a){b.switchTo(a)},c.init()}a.module("rpPropertyPicker").controller("RpPropertyGroupsCtrl",["rpPropertyGroupsModel","rpPropertyContextModel",b])}(angular),function(a){"use strict";function b(a){var b={};return b.load=function(){b.groupsList=[{name:"All My Properties",siteID:a.get("pmcid")}]},b.flush=function(){b.groupsList=[]},b}a.module("rpPropertyPicker").factory("rpPropertyGroupsModel",["sessionInfo",b])}(angular),function(a){"use strict";function b(a,b){var c,d=b(),e=b();return c={list:[],states:d,countries:e},c.initFilter=function(){return c.filter={name:"",state:"",country:""},c},c.load=function(){c.initFilter(),a.get(c.onLoad)},c.flush=function(){c.list.flush()},c.onLoad=function(a){c.list=a.list,d.reset(),e.reset(),a.list.forEach(function(a){a.state&&d.addOption({name:a.state,value:a.state}),a.country&&e.addOption({name:a.country,value:a.country})})},c.initFilter()}a.module("rpPropertyPicker").factory("rpPropertyListModel",["rpPropertyList","rpPickerFilterModel",b])}(angular),function(a){"use strict";function b(a,b,c,d,e){var f=this;f.init=function(){f.model=a,b.subscribe(f.onChange)},f.onChange=function(b){a[b?"load":"flush"](),e[b?"load":"flush"]()},f.selectProperty=function(a){c.switchTo(a)},f.showPropInfo=function(a){d.load(a)},f.init()}a.module("rpPropertyPicker").controller("RpPropertyListCtrl",["rpPropertyListModel","rpPropertyPickerState","rpPropertyContextModel","rpPropertyInfoModel","rpPropertyGroupsModel",b])}(angular),function(a){"use strict";function b(a){var b;return b="/api/core/common/changeproperty",a(b)}a.module("rpPropertyPicker").factory("rpPropertyList",["$resource",b])}(angular),function(a){"use strict";function b(a){var b,c={};return c.state=b={active:!1},c.load=function(b){var d={siteID:b.siteID};c.property=b,a.get(d,c.onLoad)},c.onLoad=function(a){b.active=!0,c.arDate=a.details.arDate,c.centers=a.details.centers},c.hide=function(){b.active=!1},c}a.module("rpPropertyPicker").factory("rpPropertyInfoModel",["rpPropertyInfo",b])}(angular),function(a){"use strict";function b(a){var b=this;b.init=function(){b.model=a},b.hide=function(){a.hide()},b.init()}a.module("rpPropertyPicker").controller("RpPropertyInfoCtrl",["rpPropertyInfoModel",b])}(angular),function(a){"use strict";function b(a){var b,c,d;return d={},c={siteID:1192563},b="/api/core/common/changeproperty/:siteID/details",a(b,c,d)}a.module("rpPropertyPicker").factory("rpPropertyInfo",["$resource",b])}(angular),function(a){"use strict";function b(){var a={};return a.update=function(){},a}a.module("rpPropertyPicker").factory("rpPropertyPickerModel",[b])}(angular),function(a){"use strict";function b(a,b){var c=this;c.init=function(){c.state=a.get(),c.propertyInfo=b},c.close=function(){a.close()},c.init()}a.module("rpPropertyPicker").controller("RpPropertyPickerCtrl",["rpPropertyPickerState","rpPropertyInfoModel",b])}(angular),function(a){"use strict";function b(){function a(a,b,c){}return{scope:{},link:a,restrict:"E",replace:!0,controller:"RpPropertyPickerCtrl as picker",templateUrl:"realpage/property-picker/templates/property-picker.html"}}a.module("rpPropertyPicker").directive("rpPropertyPicker",[b])}(angular),function(a){"use strict";function b(a,b,c){var d={};return d.init=function(){return d.iconState=c.get(),d.sessionWatch=a.subscribe("update",d.setContext),a.isReady()&&d.setContext(),d},d.setContext=function(b){b&&b.name?d.property={name:b.name,address:b.address}:(d.property={name:a.get("siteName"),address:a.get("address")},d.sessionWatch()),c.close()},d.switchTo=function(a){d.setContext(a);var c={recordActivity:1,siteID:a.siteID};b.switchTo(c,d.onSwitch)},d.onSwitch=function(){a.load()},d.init()}a.module("rpPropertyPicker").factory("rpPropertyContextModel",["sessionInfo","rpPropertyContext","rpPropertyPickerState",b])}(angular),function(a){"use strict";function b(a,b){var c=this;c.init=function(){c.model=a},c.togglePicker=function(){b.toggle()},c.init()}a.module("rpPropertyPicker").controller("RpPropertyContextCtrl",["rpPropertyContextModel","rpPropertyPickerState",b])}(angular),function(a){"use strict";function b(){function a(a,b,c){}return{scope:{},link:a,restrict:"E",replace:!0,controller:"RpPropertyContextCtrl as context",templateUrl:"realpage/property-picker/templates/property-context.html"}}a.module("rpPropertyPicker").directive("rpPropertyContext",[b])}(angular);