angular.module("rpDraggable",[]),function(a){"use strict";function b(a){var b=a();return b}a.module("rpDraggable").factory("rpDraggableSvc",["rpPoolSvc",b])}(angular),function(a){"use strict";function b(b,c){var d,e=1;return function(f,g,h){function i(){b(h.rpDraggable,k),g.on(q,k.activateElem),d=d||a.element("body")}var j,k={},l={},m={},n={},o=".drag"+e++,p="mouseup"+o,q="mousedown"+o,r="mousemove"+o,s="mouseleave"+o,t=g.parents(".rp-draggable-wrap");k.enabled=function(){return!!f.$eval(h.rpDragEnabled)},k.setStyles=function(a){if(a)n=a;else for(var b in n)n[b]="";return g.css(n),k},k.updateStyles=function(b){a.extend(n,b),g.css(n)},k.activateElem=function(a){if(k.enabled()){var b=g.offset(),c=t.offset();a.preventDefault(),a.stopPropagation(),l={x:a.pageX,y:a.pageY},m={y:b.top-c.top+t.scrollTop(),x:b.left-c.left+t.scrollLeft()},k.setStyles({top:m.y,left:m.x}),g.addClass("rp-drag-active"),d.on(r,k.dragElem),d.on(p,k.deactivateElem),d.on(s,k.deactivateElem),f.$apply(h.rpDragStart,g)}},k.dragElem=function(a){k.enabled()&&(j=a,k.updateStyles({top:m.y+a.pageY-l.y,left:m.x+a.pageX-l.x}),a.preventDefault(),a.stopPropagation(),f.$apply(h.rpDrag,g))},k.dragPoint=function(){return c().fromEvent(j)},k.deactivateElem=function(){k.setStyles().cleanup(),g.removeClass("rp-drag-active"),f.$apply(h.rpDragEnd,g)},k.cleanup=function(){d.off(o)},i()}}a.module("rpDraggable").factory("rpDraggableModel",["rpDraggableSvc","point",b])}(angular),function(a){"use strict";function b(b,c){var d,e=1;return function(f,g,h){function i(){b(h.rpDraggable,l),g.on(s,l.enableDrag),d=d||a.element("body")}var j,k,l={},m={},n={},o={},p=".drag"+e++,q="touchend"+p,r="touchmove"+p,s="touchstart"+p,t="contextmenu"+p,u=g.parents(".rp-draggable-wrap");l.disableContextMenu=function(){return!1},l.enableDrag=function(a){j=setTimeout(function(){l.activateElem(a)},200),g.on(q,l.disableDrag),d.on(r,l.disableDrag),d.on(t,l.disableContextMenu)},l.disableDrag=function(){clearTimeout(j)},l.enabled=function(){return!!f.$eval(h.rpDragEnabled)},l.setStyles=function(a){if(a)o=a;else for(var b in o)o[b]="";return g.css(o),l},l.updateStyles=function(b){a.extend(o,b),g.css(o)},l.activateElem=function(a){if(l.enabled()){a.preventDefault(),a.stopPropagation();var b,c=g.offset(),e=u.offset();b={pageX:a.originalEvent.touches[0].pageX,pageY:a.originalEvent.touches[0].pageY},m={x:b.pageX,y:b.pageY},n={y:c.top-e.top+u.scrollTop(),x:c.left-e.left+u.scrollLeft()},l.setStyles({top:n.y,left:n.x}),g.addClass("rp-drag-active"),d.on(r,l.dragElem),d.on(q,l.deactivateElem),f.$apply(h.rpDragStart,g)}},l.dragElem=function(a){if(l.enabled()){a.preventDefault(),a.stopPropagation();var b={pageY:a.originalEvent.touches[0].pageY,pageX:a.originalEvent.touches[0].pageX};k=b,l.updateStyles({top:n.y+b.pageY-m.y,left:n.x+b.pageX-m.x}),f.$apply(h.rpDrag,g)}},l.dragPoint=function(){return c().fromEvent(k)},l.deactivateElem=function(){l.setStyles().cleanup(),g.removeClass("rp-drag-active"),f.$apply(h.rpDragEnd,g)},l.cleanup=function(){d.off(p),g.off(q)},i()}}a.module("rpDraggable").factory("rpDraggableTouchModel",["rpDraggableSvc","point",b])}(angular),function(a){"use strict";function b(a,b,c){function d(d,e,f){var g=a.hasTouch();g?c(d,e,f):b(d,e,f)}return{link:d,restrict:"A"}}a.module("rpDraggable").directive("rpDraggable",["deviceInfoSvc","rpDraggableModel","rpDraggableTouchModel",b])}(angular);