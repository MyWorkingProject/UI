angular.module("rpGlobalHeader",[]),function(a,b){"use strict";function c(a){var b=this;b.init(a)}var d=c.prototype;d.init=function(c){var d=this;d.elem=c,d.$win=b(a),d.isOpen=!1,d.clickEvt="click.comboMenuToggle",d.resizeEvt="resize.comboMenuToggle",d.header=c.parents(".rp-global-header:first"),d.bindEvents()},d.bindEvents=function(){var a=this;a.elem.on(a.clickEvt,a.toggleHeader.bind(a))},d.collapseHeader=function(){var a=this;a.header.height("")},d.onWinResize=function(){var a=this;a.isOpen=!1,a.collapseHeader(),a.$win.off(a.resizeEvt)},d.toggleHeader=function(){var a=this;if(a.isOpen)a.collapseHeader(),a.$win.off(a.resizeEvt);else{var b=a.header.prop("scrollHeight");a.header.height(b),a.$win.off(a.resizeEvt).on(a.resizeEvt,a.onWinResize.bind(a))}a.isOpen=!a.isOpen},b.fn.globalHeaderComboMenuToggle=function(){return this.each(function(){var a=b(this),d=a.data("comboMenuToggle");d||a.data("comboMenuToggle",new c(a))}),this}}(window,jQuery),function(a,b){"use strict";function c(a){var b=this;b.init(a)}var d=c.prototype;d.init=function(c){var d=this;d.elem=c,d.$win=b(a),d.isOpen=!1,d.body=b("body"),d.clickEvt="click.userLinksToggle",d.resizeEvt="resize.userLinksToggle",d.menu=d.elem.siblings(".rp-global-header-user-links"),d.bindEvents()},d.bindEvents=function(){var a=this;a.elem.on(a.clickEvt,a.toggleMenu.bind(a))},d.onWinResize=function(){var a=this;a.collapseMenu(),a.isOpen=!1,a.$win.off(a.resizeEvt)},d.onBodyClick=function(){var a=this;a.collapseMenu(),a.isOpen=!1,a.body.off(a.clickEvt)},d.collapseMenu=function(){var a=this;a.menu.removeClass("open")},d.showMenu=function(){var a=this;a.menu.show(),setTimeout(function(){a.menu.addClass("open")},10)},d.toggleMenu=function(a){var b=this;a.stopPropagation(),b.isOpen?(b.collapseMenu(),b.$win.off(b.resizeEvt)):(b.showMenu(),b.$win.off(b.resizeEvt).on(b.resizeEvt,b.onWinResize.bind(b)),b.body.off(b.clickEvt).on(b.clickEvt,b.onBodyClick.bind(b))),b.isOpen=!b.isOpen},b.fn.globalHeaderUserLinksToggle=function(){return this.each(function(){var a=b(this),d=a.data("UserLinksToggle");d||a.data("UserLinksToggle",new c(a))}),this}}(window,jQuery),function(a){"use strict";function b(a,b,c){function d(d,e,f){var g={},h=c.getData();g.init=function(){d.header=g,d.headerData=h,g.watch=d.$on("$destroy",g.destroy),a(".rp-global-header-user-name").globalHeaderUserLinksToggle(),a(".rp-global-header-combo-menu-toggle").globalHeaderComboMenuToggle()},g.signout=function(){c.signout(),b.location.href=h.signinUrl},g.destroy=function(){g.watch(),g=void 0},g.init()}return{scope:{},link:d,restrict:"E",replace:!0,templateUrl:"realpage/global-header/templates/header.html"}}a.module("rpGlobalHeader").directive("rpGlobalHeader",["jQuery","$window","rpGlobalHeaderModel",b])}(angular),function(a){"use strict";function b(b,c){var d,e={};return d={signinUrl:"/ui/signin/#/",logoSrc:"../"+c+"/lib/realpage/global-header/images/rp-logo-white.png",userAvatar:"../"+c+"/lib/realpage/global-header/images/user-avatar.jpg"},e.getData=function(){return d},e.setData=function(b){a.extend(d,b)},e.signout=function(){b.erase("langingUrl"),b.erase("authorization")},e}a.module("rpGlobalHeader").factory("rpGlobalHeaderModel",["rpCookie","cdnVer",b])}(angular),angular.module("app").run(["$templateCache",function(a){a.put("realpage/global-header/templates/header.html",'<div class="rp-global-header"><a href="" class="rp-global-header-logo"><img class="rp-global-header-logo-img" ng-src="{{headerData.logoSrc}}" alt="logo"></a> <a href="" class="rp-global-header-combo-menu-toggle"></a><div class="rp-global-header-combo-menu"><div class="rp-global-header-user-area"><div class="rp-global-header-user-name">{{headerData.username}}</div><div class="rp-global-header-user-avatar"><img class="rp-global-header-user-avatar-img" ng-src="{{headerData.userAvatar}}" alt=""></div><div class="rp-global-header-user-links"><ul class="rp-global-header-user-links-group"><li class="rp-global-header-user-link"><span class="rp-global-header-user-link-text">Inbox</span> <span class="rp-global-header-user-link-count warn">3</span></li><li class="rp-global-header-user-link"><span class="rp-global-header-user-link-text">Profile</span></li><li class="rp-global-header-user-link"><span class="rp-global-header-user-link-text">Settings</span> <span class="rp-global-header-user-link-count primary">3/9</span></li></ul><span class="rp-global-header-user-link-sep"></span><ul class="rp-global-header-user-links-group"><li class="rp-global-header-user-link"><span class="rp-global-header-user-link-text">Need help?</span></li><li ng-click="header.signout()" class="rp-global-header-user-link"><span class="rp-global-header-user-link-text">Sign out</span></li></ul></div></div><ul class="rp-global-header-product-links"><li class="rp-global-header-product-link link-1"></li><li class="rp-global-header-product-link link-2"></li><li class="rp-global-header-product-link link-3"></li><li class="rp-global-header-product-link link-4"><span class="rp-global-header-product-link-count">1</span></li></ul></div><form class="rp-global-header-search"><input class="rp-global-header-search-text" type="text" placeholder="Search anything"> <span class="rp-global-header-search-button"></span></form></div>')}]);