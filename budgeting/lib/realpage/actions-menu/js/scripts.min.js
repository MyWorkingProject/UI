angular.module("rpActionsMenu",[]),function(a){"use strict";function b(){var b={};return b.get=function(b){var c='<div class="{{::'+b+'.model.className}} dropdown"><button data-toggle="dropdown" aria-expanded="false" class="btn btn-block white {{::'+b+'.model.toggle.className}}"><i class="{{::'+b+'.model.toggle.text}} pull-right"></i>{{::'+b+'.model.toggle.text}}</button><ul class="dropdown-menu dropdown-menu-scale dropdown-menu-width"><li ng-hide="action.hide" class="dropdown-item {{::action.className}}" ng-repeat="action in '+b+'.model.actions"><a ng-if="action.href" href="{{::action.href}}" ng-class="{icon: action.iconClassName}" class="action-link {{::action.iconClassName}}">{{::action.text}}</a><span ng-if="!action.href" ng-class="{icon: action.iconClassName}" ng-click="'+b+'.activate(action)" class="action-link {{::action.iconClassName}}">{{::action.text}}</span></li></ul></div>';return a.element(c)},b}a.module("rpActionsMenu").factory("rpActionsMenuHtml",[b])}(angular),function(a){"use strict";function b(){return function(){return{actions:[],className:"",toggle:{text:"",className:"rp-icon-more no-bg"}}}}a.module("rpActionsMenu").factory("rpActionsMenuModel",[b])}(angular),function(a,b){"use strict";function c(c,f,g){function h(h,i,j){e++;var k,l,m={},n={},o=!1,p=a.noop,q="rpActionsMenu"+e,r="click.actionsMenu"+e;m.init=function(){m.state=n,n.active=!1,h.$on("$destroy",m.destroy),d=d||a.element("body"),p=h.$watch(m.evalModel,m.setModel),m.setModel().exposeInstance().decorate()},m.evalModel=function(){return h.$eval(j.model)},m.setModel=function(a){return k=m.model=a||m.evalModel(),k&&p(),m},m.exposeInstance=function(){return q=j.rpInstanceName?j.rpInstanceName:q,h[q]=m,m},m.decorate=function(){l=g.get(q),c(l)(h),i.append(l)},m.onClick=function(){o||n.active||(k.dynamicActions?"function"==typeof k.getActions&&(o=!0,k.getActions(k).then(function(a){k.actions=a,m.showMenu()})):m.showMenu())},m.showMenu=function(){o=!1,n.active=!0,f(function(){d.off(r).on(r,m.hideMenu)})},m.hideMenu=function(){d.off(r),o=!1,h.$apply(function(){n.active=!1})},m.activate=function(a){var c=a.dataKey?h.$eval(a.dataKey):b;"function"==typeof a.method&&a.method(a.data,c)},m.destroy=function(){l.remove()},m.init()}return{link:h,restrict:"C"}}var d,e=0;a.module("rpActionsMenu").directive("rpActionsMenu",["$compile","timeout","rpActionsMenuHtml",c])}(angular);